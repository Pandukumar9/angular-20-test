<!-- Chat Support Panel -->
<div class="card border-primary shadow-sm mb-4">
  <div class="card-body">
    <h4 class="card-title text-primary mb-3">ğŸ’¬ Chat Support</h4>

    <p class="mb-2"><strong>Account Balance:</strong> â‚¹{{ accountBalance() }}</p>

    <div class="mb-3">Give support access to your account?</div>
    <div class="btn-group w-100" role="group">
      <button class="btn btn-success w-50" (click)="supportAccessAllowed.emit(true)">âœ… Allow</button>
      <button class="btn btn-danger w-50" (click)="supportAccessAllowed.emit(false)">âŒ Deny</button>
    </div>
  </div>
</div>

<!-- Chat Messages -->
<div class="card shadow-sm mb-4">
  <div class="card-header bg-primary text-white">
    <h5 class="mb-0">ğŸ’¬ Chat Messages</h5>
  </div>
  <div class="card-body bg-light" style="max-height: 300px; overflow-y: auto;">
    @for (message of messages(); track message.id) {
      <div class="mb-3 p-2 rounded bg-white shadow-sm border">
        <strong class="text-primary">{{ message.sender }}:</strong>
        <span class="text-dark ms-1">{{ message.text }}</span>
      </div>
    }
  </div>
</div>

<!-- Send Message -->
<div class="card shadow-sm">
  <div class="card-header bg-secondary text-white">
    <h5 class="mb-0">âœ‰ï¸ Send a Message</h5>
  </div>
  <div class="card-body">
    <form (ngSubmit)="sendMessage(messageForm)" #messageForm="ngForm">
      <div class="input-group">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="newMessage"
          name="message"
          required
          placeholder="Type your message here..."
        />
        <button type="submit" class="btn btn-primary">Send</button>
      </div>
    </form>

    <div class="mt-3 d-flex gap-2">
      <button class="btn btn-outline-secondary flex-fill" (click)="clearChat()">ğŸ—‘ Clear Chat</button>
      <button class="btn btn-outline-info flex-fill" (click)="loadSampleMessages()">ğŸ“¥ Load Sample Messages</button>
    </div>
  </div>
</div>

